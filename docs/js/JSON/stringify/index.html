<div><div></div></div><h2 id="summary"><a href="#summary" title="Permalink to Сводка">Сводка</a></h2><div><p>Метод <strong><code>JSON.stringify()</code></strong> преобразует значение JavaScript в строку JSON, возможно с заменой значений, если указана функция замены, или с&nbsp;включением только определённых свойств, если указан массив замены.</p></div><h2 id="syntax"><a href="#syntax" title="Permalink to Синтаксис">Синтаксис</a></h2><div><pre class="syntaxbox notranslate"><code>JSON.stringify(<var>value</var>[, <var>replacer</var>[, <var>space</var>]])</code></pre></div><h3 id="parameters"><a href="#parameters" title="Permalink to Параметры">Параметры</a></h3><div><dl>
 <dt><code>value</code></dt>
 <dd>Значение, преобразуемое в строку JSON.</dd>
 <dt><code>replacer</code> <span class="badge inline optional">Необязательный</span></dt>
 <dd>Если является функцией, преобразует значения и свойства по ходу их&nbsp;преобразования в строку; если является массивом, определяет набор свойств, включаемых в объект в окончательной строке.<br>
 Подробное описание функции <code>replacer</code> даётся в статье <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON#the_replacer_parameter" class="only-in-en-us" title="Currently only available in English (US)">Использование родного объекта JSON (en-US)</a> руководства по JavaScript.</dd>
 <dt><code>space</code> <span class="badge inline optional">Необязательный</span></dt>
 <dd>Делает результат красиво отформатированным (расставляя пробелы).</dd>
</dl></div><h2 id="description"><a href="#description" title="Permalink to Описание">Описание</a></h2><div><p>Метод <code>JSON.stringify()</code> преобразует значение в представляющую его нотацию JSON со следующими оговорками:</p>

<ul>
 <li>Порядок преобразования в строку свойств объектов, не являющихся массивами, не гарантируется. Не полагайтесь на порядок свойств во время преобразования.</li>
 <li>Объекты <a href="/js/Boolean/"><code>Boolean</code></a>, <a href="/js/Number/"><code>Number</code></a> и <a href="/js/String/"><code>String</code></a> преобразуются в соответствующие примитивные значения, в соответствии с традиционным соглашением о семантике преобразований.</li>
 <li>Значение <a href="/js/undefined/"><code>undefined</code></a>, функция или символ, встреченные во время преобразования, будут либо опущены (если они найдены в объекте), либо превращены в <a href="/js/null/"><code>null</code></a> (если они найдены в массиве).</li>
 <li>Все свойства, имеющие ключ в виде символа, будут полностью проигнорированы, даже при использовании функции <code>replacer</code>.</li>
</ul>

<pre class="brush: js notranslate"><code><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// '{}'</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// 'true'</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// '"foo"'</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'false'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '[1,"false",false]'</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// '{"x":5}'</span>

<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">6</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// '{"x":5,"y":6}' or '{"y":6,"x":5}'</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'false'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// '[1,"false",false]'</span>

<span class="token comment">// Символы:</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> y<span class="token operator">:</span> Object<span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// '{}'</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'foo'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// '{}'</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'foo'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// '{}'</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'foo'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">k<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> k <span class="token operator">===</span> <span class="token string">'symbol'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'символ'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// '{}'</span>
</code></pre></div><h3 id="space_argument"><a href="#space_argument" title="Permalink to Параметр space">Параметр <code>space</code></a></h3><div><p>Параметр <code>space</code> может использоваться для управления форматированием отступов в конечной строке. Если он числовой, каждый последующий уровень вложенности будет дополнен отступом из пробелов, количество которых соответствует уровню (вплоть до десятого уровня). Если он строковый, каждый последующий уровень вложенности будет предваряться этой строкой (или её первыми десятью символами).</p>

<pre class="brush: js notranslate"><code><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// '{</span>
<span class="token comment">//  "a": 2</span>
<span class="token comment">// }'</span>
</code></pre>

<p>Использование символа табуляции имитирует стандартное красивое форматирование:</p>

<pre class="brush: js notranslate"><code><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> uno<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> dos<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'\t'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// вернёт строку:</span>
<span class="token comment">// '{</span>
<span class="token comment">// 	"uno": 1,</span>
<span class="token comment">// 	"dos": 2</span>
<span class="token comment">// }'</span>
</code></pre></div><h3 id="tojson_behavior"><a href="#tojson_behavior" title="Permalink to Поведение метода toJSON()">Поведение метода <code>toJSON()</code></a></h3><div><p>Если преобразуемый в&nbsp;строку объект имеет свойство с именем <code>toJSON</code> и значением свойства, установленным в функцию, то этот метод <code>toJSON()</code> изменит стандартное поведение преобразования в JSON: вместо преобразования объекта будет использоваться значение, возвращаемое методом <code>toJSON()</code>. Например:</p>

<div class="warning notecard">
<p>Функции не являются допустимыми данными в JSON, так что они не будут работать. Кроме того, некоторые объекты, например, объект <a href="/js/Date/"><code>Date</code></a>, станут строками после применения <a href="/js/JSON/parse/"><code>JSON.parse()</code></a>.</p>
</div>

<pre class="brush: js notranslate"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  foo<span class="token operator">:</span> <span class="token string">'foo'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">toJSON</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// '"bar"'</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> x<span class="token operator">:</span> obj <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '{"x":"bar"}'</span>
</code></pre></div><h3 id="example_of_using_json.stringify_with_localstorage"><a href="#example_of_using_json.stringify_with_localstorage" title="Permalink to Пример использования метода JSON.stringify() вместе с localStorage">Пример использования метода <code>JSON.stringify()</code> вместе с <code>localStorage</code></a></h3><div><p>В случае, если вы хотите сохранить объект таким образом, чтобы его можно было восстановить даже после закрытия браузера, имеет смысл воспользоваться следующим примером, демонстрирующим применение метода <code>JSON.stringify()</code>:</p>

<pre class="brush: js notranslate"><code><span class="token comment">// Создаём некоторый объект</span>
<span class="token keyword">var</span> session <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">'screens'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">'state'</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
session<span class="token punctuation">.</span>screens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">'name'</span><span class="token operator">:</span> <span class="token string">'экранА'</span><span class="token punctuation">,</span> <span class="token string">'width'</span><span class="token operator">:</span> <span class="token number">450</span><span class="token punctuation">,</span> <span class="token string">'height'</span><span class="token operator">:</span> <span class="token number">250</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
session<span class="token punctuation">.</span>screens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">'name'</span><span class="token operator">:</span> <span class="token string">'экранБ'</span><span class="token punctuation">,</span> <span class="token string">'width'</span><span class="token operator">:</span> <span class="token number">650</span><span class="token punctuation">,</span> <span class="token string">'height'</span><span class="token operator">:</span> <span class="token number">350</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
session<span class="token punctuation">.</span>screens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">'name'</span><span class="token operator">:</span> <span class="token string">'экранВ'</span><span class="token punctuation">,</span> <span class="token string">'width'</span><span class="token operator">:</span> <span class="token number">750</span><span class="token punctuation">,</span> <span class="token string">'height'</span><span class="token operator">:</span> <span class="token number">120</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
session<span class="token punctuation">.</span>screens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">'name'</span><span class="token operator">:</span> <span class="token string">'экранГ'</span><span class="token punctuation">,</span> <span class="token string">'width'</span><span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token string">'height'</span><span class="token operator">:</span> <span class="token number">60</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
session<span class="token punctuation">.</span>screens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">'name'</span><span class="token operator">:</span> <span class="token string">'экранД'</span><span class="token punctuation">,</span> <span class="token string">'width'</span><span class="token operator">:</span> <span class="token number">390</span><span class="token punctuation">,</span> <span class="token string">'height'</span><span class="token operator">:</span> <span class="token number">120</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
session<span class="token punctuation">.</span>screens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token string">'name'</span><span class="token operator">:</span> <span class="token string">'экранЕ'</span><span class="token punctuation">,</span> <span class="token string">'width'</span><span class="token operator">:</span> <span class="token number">1240</span><span class="token punctuation">,</span> <span class="token string">'height'</span><span class="token operator">:</span> <span class="token number">650</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Преобразуем его в строку JSON с помощью метода JSON.stringify(),</span>
<span class="token comment">// затем сохраняем его в localStorage под именем session</span>
localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'session'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>session<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Пример того, как можно преобразовать строку, полученную с помощью метода</span>
<span class="token comment">// JSON.stringify() и сохранённую в localStorage обратно в объект</span>
<span class="token keyword">var</span> restoredSession <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'session'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Переменная restoredSession содержит объект, который был сохранён</span>
<span class="token comment">// в localStorage</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>restoredSession<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="example_of_using_replacer_parameter"><a href="#example_of_using_replacer_parameter" title="Permalink to Пример использования параметра replacer">Пример использования параметра <code>replacer</code></a></h3><div><pre class="brush: js notranslate"><code><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span> foundation<span class="token operator">:</span> <span class="token string">'Mozilla'</span><span class="token punctuation">,</span> model<span class="token operator">:</span> <span class="token string">'box'</span><span class="token punctuation">,</span> week<span class="token operator">:</span> <span class="token number">45</span><span class="token punctuation">,</span> transport<span class="token operator">:</span> <span class="token string">'car'</span><span class="token punctuation">,</span> month<span class="token operator">:</span> <span class="token number">7</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// удаляем все строковые свойства</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// '{"week":45,"month":7}'</span>

<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'week'</span><span class="token punctuation">,</span> <span class="token string">'month'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// '{"week":45,"month":7}', сохранились только свойства week и month</span>
</code></pre></div><h2 id="specifications"><a href="#specifications" title="Permalink to Спецификации">Спецификации</a></h2><div><table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Спецификация</th>
   <th scope="col">Статус</th>
   <th scope="col">Комментарии</th>
  </tr>
  <tr>
   <td><a href="https://www.ecma-international.org/ecma-262/5.1/#sec-15.12.3" hreflang="en" lang="en" class="external" rel=" noopener">ECMAScript 5.1 (ECMA-262)<br><small lang="ru">Определение 'JSON.stringify' в этой спецификации.</small></a></td>
   <td><span class="spec-standard">Стандарт</span></td>
   <td>Изначальное определение. Реализована в JavaScript 1.7.</td>
  </tr>
  <tr>
   <td><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-json.stringify" hreflang="en" lang="en" class="external" rel=" noopener">ECMAScript 2015 (6th Edition, ECMA-262)<br><small lang="ru">Определение 'JSON.stringify' в этой спецификации.</small></a></td>
   <td><span class="spec-standard">Стандарт</span></td>
   <td></td>
  </tr>
 </tbody>
</table></div><h2 id="browser_compatibility"><a href="#browser_compatibility" title="Permalink to Совместимость с браузерами">Совместимость с браузерами</a></h2><p>BCD tables only load in the browser</p><div><div>


<p></p><p></p>
</div></div><h2 id="see_also"><a href="#see_also" title="Permalink to Смотрите также">Смотрите также</a></h2><div><ul>
 <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON" class="only-in-en-us" title="Currently only available in English (US)">Использование родного объекта JSON (en-US)</a></li>
 <li><a href="/js/JSON/parse/"><code>JSON.parse()</code></a></li>
</ul></div>