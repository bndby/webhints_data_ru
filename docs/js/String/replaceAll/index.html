<h1>String.prototype.replaceAll()</h1><div><div></div>

<p>The <strong><code>replaceAll()</code></strong> method returns
    a new string with all matches of a <code>pattern</code> replaced by a
    <code>replacement</code>. The <code>pattern</code> can be a string or a
  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp"><code>RegExp</code></a>, and the <code>replacement</code> can be a string or a function to
  be called for each match.</p>

<p>The original string is left unchanged.</p>

<div><iframe class="interactive" width="100%" height="490" src="https://interactive-examples.mdn.mozilla.net/pages/js/string-replaceall.html" title="MDN Web Docs Interactive Example" loading="lazy"></iframe></div></div><h2 id="syntax"><a href="#syntax" title="Permalink to Syntax">Syntax</a></h2><div><pre class="brush: js notranslate"><code><span class="token function">replaceAll</span><span class="token punctuation">(</span>regexp<span class="token punctuation">,</span> newSubstr<span class="token punctuation">)</span>
<span class="token function">replaceAll</span><span class="token punctuation">(</span>regexp<span class="token punctuation">,</span> replacerFunction<span class="token punctuation">)</span>

<span class="token function">replaceAll</span><span class="token punctuation">(</span>substr<span class="token punctuation">,</span> newSubstr<span class="token punctuation">)</span>
<span class="token function">replaceAll</span><span class="token punctuation">(</span>substr<span class="token punctuation">,</span> replacerFunction<span class="token punctuation">)</span>
</code></pre>

<div class="notecard note">
  <p><strong>Note:</strong> When using a `<var>regexp</var>` you&nbsp;have to set the global ("g") flag; otherwise, it
    will throw a <code>TypeError</code>: "replaceAll must be called with a global RegExp".
  </p>
</div></div><h3 id="parameters"><a href="#parameters" title="Permalink to Parameters">Parameters</a></h3><div><dl>
  <dt><code><var>regexp</var></code> (pattern)</dt>
  <dd>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp"><code>RegExp</code></a> object or literal with the global flag. The matches are
    replaced with <code><var>newSubstr</var></code> or the value returned by the specified
    <code><var>replacerFunction</var></code>. A RegExp without the global ("g") flag will throw a
    <code>TypeError</code>: "replaceAll must be called with a global RegExp".</dd>
  <dt><code><var>substr</var></code></dt>
  <dd>A <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><code>String</code></a> that is to be replaced by <code><var>newSubstr</var></code>.
    It is treated as a literal string and is <em>not</em> interpreted as a regular
    expression.</dd>
  <dt><code><var>newSubstr</var></code> (replacement)</dt>
  <dd>The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><code>String</code></a> that replaces the substring specified by the specified
    <code><var>regexp</var></code> or <code><var>substr</var></code> parameter. A number
    of special replacement patterns are supported; see the "<a href="#specifying_a_string_as_a_parameter">Specifying a string as a parameter</a>"
    section below.</dd>
  <dt><code><var>replacerFunction</var></code> (replacement)</dt>
  <dd>A function to be invoked to create the new substring to be used to replace the
    matches to the given <code><var>regexp</var></code> or <code><var>substr</var></code>.
    The arguments supplied to this function are described in the "<a href="#specifying_a_function_as_a_parameter">Specifying a function as a
      parameter</a>" section below.</dd>
</dl></div><h3 id="return_value"><a href="#return_value" title="Permalink to Return value">Return value</a></h3><div><p>A new string, with all matches of a pattern replaced by a replacement.</p></div><h2 id="description"><a href="#description" title="Permalink to Description">Description</a></h2><div><p>This method does not change the calling <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String"><code>String</code></a> object. It returns a new
  string.</p></div><h3 id="specifying_a_string_as_a_parameter"><a href="#specifying_a_string_as_a_parameter" title="Permalink to Specifying a string as a parameter">Specifying a string as a parameter</a></h3><div><p>The replacement string can include the following special replacement patterns:</p>

<table class="standard-table">
  <thead>
    <tr>
      <th class="header" scope="col">Pattern</th>
      <th class="header" scope="col">Inserts</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>$$</code></td>
      <td>Inserts a <code>"$"</code>.</td>
    </tr>
    <tr>
      <td><code>$&amp;</code></td>
      <td>Inserts the matched substring.</td>
    </tr>
    <tr>
      <td><code>$`</code></td>
      <td>Inserts the portion of the string that precedes the matched substring.</td>
    </tr>
    <tr>
      <td><code>$'</code></td>
      <td>Inserts the portion of the string that follows the matched substring.</td>
    </tr>
    <tr>
      <td><code>$<var>n</var></code></td>
      <td>Where <code><var>n</var></code> is a positive integer less than 100, inserts the
        <code><var>n</var></code>th parenthesized submatch string, provided the first
        argument was a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp"><code>RegExp</code></a> object. Note that this is
        <code>1</code>-indexed.</td>
    </tr>
  </tbody>
</table></div><h3 id="specifying_a_function_as_a_parameter"><a href="#specifying_a_function_as_a_parameter" title="Permalink to Specifying a function as a parameter">Specifying a function as a parameter</a></h3><div><p>You can specify a function as the second parameter. In this case, the function will be
  invoked after the match has been performed. The function's result (return value) will be
  used as the replacement string. (<strong>Note:</strong> The above-mentioned special
  replacement patterns do <em>not</em> apply in this case.)</p>

<p>Note that if the first argument of an <code>replaceAll()</code> invocation is a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp"><code>RegExp</code></a> object or regular expression literal, the function will be invoked multiple times.</p>

<p>The arguments to the function are as follows:</p>

<table class="standard-table">
  <thead>
    <tr>
      <th class="header" scope="col">Possible name</th>
      <th class="header" scope="col">Supplied value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>match</code></td>
      <td>The matched substring. (Corresponds to <code>$&amp;</code> above.)</td>
    </tr>
    <tr>
      <td><code>p1, p2, ...</code></td>
      <td>The <var>n</var>th string found by a parenthesized capture group, provided the
        first argument to <code>replaceAll()</code> was a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp"><code>RegExp</code></a> object.
        (Corresponds to <code>$1</code>, <code>$2</code>, etc. above.) For example,
        if&nbsp;<code>/(\a+)(\b+)/</code>, was given, <code>p1</code> is the match for
        <code>\a+</code>, and&nbsp;<code>p2</code> for <code>\b+</code>.</td>
    </tr>
    <tr>
      <td><code>offset</code></td>
      <td>The offset of the matched substring within the whole string being examined. (For
        example, if the whole string was <code>'abcd'</code>, and the matched substring
        was <code>'bc'</code>, then this argument will be <code>1</code>.)</td>
    </tr>
    <tr>
      <td><code>string</code></td>
      <td>The whole string being examined.</td>
    </tr>
  </tbody>
</table>

<p>(The exact number of arguments depends on whether the first argument is a
  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp"><code>RegExp</code></a> objectâ€”and, if so, how many parenthesized submatches it specifies.)
</p></div><h2 id="examples"><a href="#examples" title="Permalink to Examples">Examples</a></h2><div></div><h3 id="using_replaceall"><a href="#using_replaceall" title="Permalink to Using replaceAll">Using replaceAll</a></h3><div><pre class="brush: js notranslate"><code><span class="token string">'aabbcc'</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 'aa..cc'</span></code></pre></div><h3 id="non-global_regex_throws"><a href="#non-global_regex_throws" title="Permalink to Non-global regex throws">Non-global regex throws</a></h3><div><p>When using a regular expression search value, it must be global. This won't work:</p>

<pre class="brush: js; example-bad notranslate"><code><span class="token string">'aabbcc'</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">b</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
TypeError<span class="token operator">:</span> replaceAll must be called <span class="token keyword">with</span> a global RegExp
</code></pre>

<p>This will work:</p>

<pre class="brush: js example-good notranslate"><code><span class="token string">'aabbcc'</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token string">"aa..cc"</span>
</code></pre></div><h2 id="specifications"><a href="#specifications" title="Permalink to Specifications">Specifications</a></h2><table class="standard-table"><thead><tr><th scope="col">Specification</th></tr></thead><tbody><tr><td><a href="https://tc39.es/ecma262/#sec-string.prototype.replaceall">Unknown specification<!-- --> <br><small># <!-- -->sec-string.prototype.replaceall</small></a></td></tr></tbody></table><div></div><h2 id="browser_compatibility"><a href="#browser_compatibility" title="Permalink to Browser compatibility">Browser compatibility</a></h2><p>BCD tables only load in the browser</p><div><p></p><p></p></div><h2 id="see_also"><a href="#see_also" title="Permalink to See also">See also</a></h2><div><ul>
  <li>A polyfill of <code>String.prototype.replaceAll</code> is available in <a href="https://github.com/zloirock/core-js#ecmascript-string-and-regexp" class="external" rel=" noopener"><code>core-js</code></a></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace"><code>String.prototype.replace()</code></a></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match"><code>String.prototype.match()</code></a></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec"><code>RegExp.prototype.exec()</code></a></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test"><code>RegExp.prototype.test()</code></a></li>
</ul></div>