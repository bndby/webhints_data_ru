<h1>WeakSet</h1><div><div></div>

<p>Объект&nbsp;<strong><code>WeakSet</code></strong>&nbsp;- коллекция, элементами которой могут быть только&nbsp;<em>объекты. </em>Ссылки на эти объекты в WeakSet являются слабыми.&nbsp;Каждый объект может быть добавлен в WeakSet только один раз.</p></div><h2 id="syntax"><a href="#syntax" title="Permalink to Синтаксис">Синтаксис</a></h2><div><pre class="syntaxbox notranslate"> new WeakSet([iterable]);</pre></div><h3 id="parameters"><a href="#parameters" title="Permalink to Параметры">Параметры</a></h3><div><dl>
 <dt>iterable</dt>
 <dd>При передаче&nbsp;<a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/for...of">итерируемого объекта</a>, все его элементы будут добавлены в новый WeakSet.&nbsp;<code>Null</code>&nbsp;обрабатывается как&nbsp;<code>undefined</code>.</dd>
</dl></div><h2 id="description"><a href="#description" title="Permalink to Описание">Описание</a></h2><div><p>Объекты <code>WeakSet </code>представляют собой коллекции объектов. Каждый объект в WeakSet встречается только один раз, что обеспечивает его уникальность в рамках коллекции WeakSet.</p>

<p>Главным отличия от объекта&nbsp;<a href="/js/Set/"><code>Set</code></a>:</p>

<ul>
 <li>WeakSet <strong>содержит&nbsp;только объекты</strong>, тогда как Set - значения любого типа.</li>
 <li>Ссылки на объекты в WeakSet являются&nbsp;слабыми:&nbsp;если на объект, хранимый в WeakSet нет ни одной внешней ссылки, то сборщик мусора удалит этот объект. Также это означает, что WeakSet <strong>не итерируем, </strong>так как нет возможности получить список текущих хранимых в WeakSet объектов.&nbsp;&nbsp;</li>
</ul></div><h2 id="properties"><a href="#properties" title="Permalink to Свойства">Свойства</a></h2><div><dl>
 <dt><code>WeakSet.length</code></dt>
 <dd>Значение свойства&nbsp;<code>length</code>&nbsp;всегда равно&nbsp;0.</dd>
 <dt><a href="https://developer.mozilla.org/ru/docs/conflicting/Web/JavaScript/Reference/Global_Objects/WeakSet"><code>WeakSet.prototype</code></a></dt>
 <dd>Представляет прототип конструктора&nbsp;Weak<code>Set</code>. Позволяет добавлять свойства &nbsp;всем объектам типа&nbsp;<code>WeakSet</code>.</dd>
</dl></div><h2 id="экземпляры_weakset"><a href="#экземпляры_weakset" title="Permalink to Экземпляры WeakSet&nbsp;"><code>Экземпляры WeakSet</code>&nbsp;</a></h2><div><p>Все экземпляры класса <code>WeakSet</code> унаследованы от&nbsp;<a href="https://developer.mozilla.org/ru/docs/conflicting/Web/JavaScript/Reference/Global_Objects/WeakSet"><code>WeakSet.prototype</code></a>.</p></div><h3 id="properties_2"><a href="#properties_2" title="Permalink to Свойства">Свойства</a></h3><div><p></p><dl>
 <dt><code>WeakSet.prototype.constructor</code></dt>
 <dd>Возвращает функцию, создающую экземпляр прототипа. По умолчанию, это функция&nbsp;<a href="/js/WeakSet/" aria-current="page"><code>WeakSet</code></a>.</dd>
</dl><p></p></div><h3 id="methods"><a href="#methods" title="Permalink to Методы">Методы</a></h3><div><p></p><dl>
 <dt><a href="/js/WeakSet/add/"><code>WeakSet.prototype.add(value)</code></a></dt>
 <dd>Добавляет объект value в WeakSet.&nbsp;</dd>
 <dt><a href="/js/WeakSet/delete/"><code>WeakSet.prototype.delete(value)</code></a></dt>
 <dd>Удаляет из WeakSet элемент&nbsp;value. После удаления вызов <code>WeakSet.prototype.has(value) возвращает false.</code>&nbsp;</dd>
 <dt><a href="/js/WeakSet/has/"><code>WeakSet.prototype.has(value)</code></a></dt>
 <dd>Определяет, содержит&nbsp;WeakSet объект value или нет, возвращая, соответственно, true или false.&nbsp;</dd>
 <dt><s class="obsoleteElement"><a class="page-not-created" title="Документация об этом ещё не написана; пожалуйста, поспособствуйте её написанию!"><code>WeakSet.prototype.clear()</code></a> </s></dt>
 <dd><s class="obsoleteElement">Удаляет все элементы из объекта WeakSet.</s></dd>
</dl><p></p></div><h2 id="examples"><a href="#examples" title="Permalink to Примеры">Примеры</a></h2><div></div><h3 id="exampleusing_the_weakset_object"><a href="#exampleusing_the_weakset_object" title="Permalink to Использование объекта&nbsp;WeakSet&nbsp;">Использование объекта&nbsp;<code>WeakSet</code>&nbsp;</a></h3><div><pre class="brush: js notranslate"><code><span class="token keyword">var</span> ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

ws<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>
ws<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

ws<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
ws<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// false, foo не добавлен в WeakSet</span>

ws<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// удаляет window из WeakSet</span>
ws<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// false, window был удалён</span>
</code></pre></div><h2 id="specifications"><a href="#specifications" title="Permalink to Спецификации">Спецификации</a></h2><div><table class="standard-table">
 <tbody>
  <tr>
   <th scope="col">Specification</th>
   <th scope="col">Status</th>
   <th scope="col">Comment</th>
  </tr>
  <tr>
   <td><a href="https://www.ecma-international.org/ecma-262/6.0/#sec-weakset-objects" hreflang="en" lang="en" class="external" rel=" noopener">ECMAScript 2015 (6th Edition, ECMA-262)<br><small lang="ru">Определение 'WeakSet' в этой спецификации.</small></a></td>
   <td><span class="spec-standard">Стандарт</span></td>
   <td>Изначальное определение.</td>
  </tr>
  <tr>
   <td><a href="https://tc39.es/ecma262/#sec-weakset-objects" hreflang="en" lang="en" class="external" rel=" noopener">ECMAScript (ECMA-262)<br><small lang="ru">Определение 'WeakSet' в этой спецификации.</small></a></td>
   <td><span class="spec-living">Живой стандарт</span></td>
   <td>&nbsp;</td>
  </tr>
 </tbody>
</table></div><h2 id="browser_compatibility"><a href="#browser_compatibility" title="Permalink to Совместимость с браузерами">Совместимость с браузерами</a></h2><p>BCD tables only load in the browser</p><div><p></p><p></p>

<div id="compat-mobile">&nbsp;</div></div><h2 id="see_also"><a href="#see_also" title="Permalink to Смотрите также">Смотрите также</a></h2><div><ul>
 <li><a href="/js/Map/"><code>Map</code></a></li>
 <li><a href="/js/Set/"><code>Set</code></a></li>
 <li><a href="/js/WeakMap/"><code>WeakMap</code></a></li>
</ul></div>